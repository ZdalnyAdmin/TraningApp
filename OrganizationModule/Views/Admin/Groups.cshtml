<div ng-app="" ng-controller="adminGroupsController" class="container">

    <strong class="error">{{ viewModel.ErrorMessage }}</strong>
    <strong class="error">{{ viewModel.Success }}</strong>

    <div>
        Domyslnie kazde szkolenie moze byc widoczne przez jego autora lub przez wszystkich uzytkowanikow. Mozesz jednak stworzyc grupy skladajaca sie z czesci uzytkownikow i
        udostepnic tylko takiej grupie szkolenia. Mozesz np. udostepnic szkolenia do IT, biura obslugi klienta, handlowcow itp.
    </div>
    <div>
        Grupy dla ktorych udostepniane jest szkolenie mozesz ustawic tworzac lub edytujac szkolenie. W tym miejscu mozesz tworzyc same grupy.
    </div>

    <div id="inputButto" ng-click="showCreate()">
        Utworz grupe
    </div>
    <div ng-show="isCreated">
        <div id="simpleRow">
            <div id="mainText">
                Nazwa grupy
            </div>
            <input type="text" id="mainInput" name="viewModel.Current.Name" ng-model="viewModel.Current.Name" maxlength=40>
        </div>
        <div id="simpleRow">
            <div id="mainText">
                Czlonkowie grupy :
                <div ng-repeat="user in viewModel.Current.AssignedPeople">
                    {{user.Name}} ,
                </div>
               
            </div>
            <div id="inputButto" ng-click="chooseUsers(viewModel.Current.AssignedPeople)">
                Wybierz z listy
            </div>
        </div>
        <div id="simpleRow">
            <div id="inputButto" ng-click="add(viewModel.Current)">
                Zapisz
            </div>
        </div>
    </div>
    <div ng-repeat="group in viewModel.Groups">
        <div id="simpleRow">
            <div id="mainText">
                Grupa :
            </div>
            <div id="mainText" ng-hide="group.isEditable">
                {{ group.Name }}
            </div>
            <input type="text" id="mainInput" name="group.Name" ng-model="group.Name" ng-show="group.isEditable">
            <div id="inputButto" ng-hide="group.isEditable" ng-click="showEdit(group)">
                EDYCJA
            </div>
            <div id="inputButto" ng-hide="group.isEditable" ng-click="delete(group)">
                USUN GRUPE
            </div>
        </div>
        <div id="simpleRow">
            <div id="mainText">
                Czlonkowie grupy : 
                <div ng-repeat="user in viewModel.Current.AssignedPeople">
                    {{user.Name}} ,
                </div>
            </div>
            <div id="inputButto" ng-show="group.isEditable" ng-click="chooseUsers(group)">
                Wybierz z listy
            </div>
        </div>
        <div id="simpleRow">
            <div id="inputButto" ng-show="group.isEditable" ng-click="edit(group)">
                ZAPISZ
            </div>
            <div id="inputButto" ng-show="group.isEditable" ng-click="cancel(group)">
                ANULUJ ZMIANY
            </div>
        </div>
    </div>
</div>
