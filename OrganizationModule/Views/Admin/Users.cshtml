<div ng-app="" ng-controller="adminUsersController" class="container">

    <strong class="error">{{ error }}</strong>
    <div ng-repeat="person in Persons">
        <div id="simpleRow">
            <div id="mainText" ng-show="!showEdit">
                {{ person.Name }}
            </div>
            <input type="text" id="mainInput" name="person.Name" ng-model="person.Name" ng-show="showEdit">
            <div id="inputButto" ng-show="!showEdit">
                USUN
            </div>
            <div id="inputButto" ng-show="!showEdit" ng-click="showEdit = ! showEdit">
                EDYCJA
            </div>
            <div id="inputButto" ng-show="showEdit" ng-click="showEdit = ! showEdit">
                ZAPISZ
            </div>
            <div id="inputButto" ng-show="showEdit" ng-click="showEdit = ! showEdit">
                ANULUJ ZMIANY
            </div>
        </div>
        <div id="simpleRow">
            <div id="detailText" ng-show="!showEdit">
                {{ person.Mail }}
            </div>
            <input type="text" id="mainInput" name="person.Mail" ng-model="person.Mail" ng-show="showEdit">
            <div id="detailText" ng-show="!showEdit">
                {{ person.Status }}
            </div>
            <select ng-model="selected" ng-options="c for c in status" ng-init="selected=person.Status" ng-show="showEdit"></select>
            <div id="detailText">
                {{ person.RegistrationDate | date: 'dd.MM.yyyy hh.mm' }}
            </div>
            <div id="detailText">
                {{ person.LastActivationDate | date: 'dd.MM.yyyy hh.mm' }}
            </div>
            <div id="detailText">
                {{ person.GroupName }}
            </div>
            <div id="detailText">
                {{ person.ProfileName }}
            </div>
            <div id="detailText">
                {{ person.Login }}
            </div>
        </div>
        <div id="simpleRow">
            <div id="mainText">
                Kursy ({{ person.TrainingNumber }})
            </div>
            <div id="inputButto" ng-click="showDetails = ! showDetails" ng-show="!showDetails">
                POKAZ
            </div>
            <div id="inputButto" ng-click="showDetails = ! showDetails" ng-show="showDetails">
                UKRYJ
            </div>
        </div>

        <div id="simpleRow" ng-show="showDetails">
            <div ng-repeat="item in person.AssignedTrainings">
                <div id="simpleRow">
                    <div id="detailText">
                        {{ item.TraningID }}
                    </div>
                    <div id="detailText">
                        {{ item.StartDate | date: 'dd.MM.yyyy hh.mm' }}
                    </div>
                    <div id="detailText" ng-hide="{{item.IsCompleted}}">
                        W trakcie
                    </div>
                    <div id="detailText">
                        {{ item.EndDate | date: 'dd.MM.yyyy hh.mm'}}
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div id="inputButto" ng-click="showDeleted = ! showDeleted" ng-show="!showDeleted">
        POKAZ USUNIETE
    </div>
    <div id="inputButto" ng-click="showDeleted = ! showDeleted" ng-show="showDeleted">
        UKRYJ USUNIETE
    </div>

    <div id="simpleRow" ng-show="showDeleted">
        <div id="mainText">
            Uzytkowanicy usunieci
        </div>
        <div ng-repeat="person in DeletePersons">

            <div id="simpleRow">
                <div id="mainText" ng-show="!showEdit">
                    {{ person.Name }}
                </div>
            </div>
            <div id="simpleRow">
                <div id="detailText">
                    {{ person.RegistrationDate | date: 'dd.MM.yyyy hh.mm' }}
                </div>
                <div id="detailText">
                    {{ person.DeletedDate | date: 'dd.MM.yyyy hh.mm' }}
                </div>
                <div id="detailText">
                    {{ person.DeletedUserID }}
                </div>
            </div>
        </div>
    </div>
</div>
